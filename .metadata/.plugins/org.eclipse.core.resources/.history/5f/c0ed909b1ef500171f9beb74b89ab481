package com.cblue.shop.content.service;

import org.springframework.beans.factory.annotation.Autowired;

import com.cblue.common.pojo.ResponseResult;
import com.cblue.shop.mapper.TbContentMapper;
import com.cblue.shop.pojo.TbContent;

public class ContentServiceImpl implements ContentService {

	@Autowired
	private TbContentMapper tbContentMapper;
	
	@Override
	public ResponseResult addContent(TbContent tbContent) {
		// 将内容数据插入到内容表
		tbContent.setCreated(new Date());
		tbContent.setUpdated(new Date());
		// 插入到数据库
		contentMapper.insert(tbContent);
		// 缓存同步,删除缓存中对应的数据。
		jedisClient.hdel(CONTENT_LIST, content.getCategoryId().toString());
		return E3Result.ok();
	}

}
